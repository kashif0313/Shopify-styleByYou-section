{% schema %}
{
  "name": "styleByYou",
  "settings": [
    {
      "type": "text",
      "id": "main_heading",
      "label": "Main Heading",
      "default": "Featured Collections",
      "info": "Enter the main heading for the collection carousel."
    },
    {
      "type": "text",
      "id": "sub_heading",
      "label": "Sub Heading",
      "default": "Browse our latest collections",
      "info": "Enter the sub heading for the collection carousel."
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#F8F3DB",
      "info": "Select the background color for the collection carousel."
    },
    {
      "type": "range",
      "id": "animation_duration",
      "label": "Animation Duration (seconds)",
      "default": 3,
      "min": 1,
      "max": 10,
      "step": 1,
      "info": "Select the duration for each animation cycle."
    },
    {
      "type": "checkbox",
      "id": "enable_animation",
      "label": "Enable Animation",
      "default": true,
      "info": "Check to enable the animation of the carousel."
    }
  ],
  "blocks": [
    {
      "type": "block",
      "name": "Collection Item",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "styleByYou",
      "category": "Homepage"
    }
  ]
}
{% endschema %}

<!-- <script>
  document.addEventListener('DOMContentLoaded', function() {
    var animationDuration = parseInt('{{ section.settings.animation_duration }}');
    var currentPosition = 0;
    var currentIndex = 0;
    var carouselTrack = document.querySelector('.collection-carousel-track');
    var carouselItems = document.querySelectorAll('.collection-carousel-item');
    var totalWidth = carouselItems.length * carouselItems[0].offsetWidth;
    var timer; // Define a variable to store the interval timer
    var animationEnabled = {{ section.settings.enable_animation }};

  var moveAmount;
 var totalItems = 0;

    $('.collection-carousel-track').slick({
 slidesToShow: 5,
  autoplay: true,
  arrows: true,
  autoplaySpeed: 2000,
   responsive: [
   {
      breakpoint: 1400,
      settings: {
        slidesToShow: 4,
        slidesToScroll: 4
      }
    },
     {
      breakpoint: 1000,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3
      }
    },
     {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
     ]
});
  });
</script> -->

<div class="collection-carousel" style="background-color: {{ section.settings.background_color }};">
  <div style="text-align: center; padding-bottom: 20px; padding-top: 20px; margin-bottom: 20px; display: flex; flex-direction: column; justify-content: center;">
    <span style="text-transform: uppercase; font-size:18px ; font-weight:bold; color:black;">{{ section.settings.main_heading }}</span>
    <p>{{ section.settings.sub_heading }}</p>
  </div>

  <div class="collection-carousel-container">
    <div class="collection-carousel-track">
      {% for block in section.blocks %}
        <div class="collection-carousel-item">
          <a href="{{ block.settings.link }}">
            <div class="collection-image-container">
              <img src="{{ block.settings.image | img_url: '1000x1500' }}" alt="{{ block.settings.title }}" class="collection-image">
            </div>
            <div class="collection-info">
              <p class="collection-title">{{ block.settings.title }}</p>
              <p class="collection-subtitle">{{ block.settings.subtitle }}</p>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
</div>

 <script>
document.addEventListener('DOMContentLoaded', function() {
 
  var carouselTrack = document.querySelector('.collection-carousel-track');
    
$('.collection-carousel-track').slick({
  slidesToShow: 5,
  autoplay: true,
  arrows: true,
  autoplaySpeed: 2000,
   responsive: [
   {
      breakpoint: 1400,
      settings: {
        slidesToShow: 4,
        slidesToScroll: 4
      }
    },
     {
      breakpoint: 1000,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3
      }
    },
     {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
     ]
});
});
</script>
<style>
/* Add your custom CSS here */

.collection-carousel h3,
.collection-carousel p {
  text-align: center;
  color: black;
}

.collection-info {
  position: relative;
  bottom: 0;
  left: 0;
  width: 100%;
  display: flex;
  justify-content: center;
  flex-direction: column;
  box-sizing: border-box;
  transition: opacity 0.3s ease-in-out; /* Add transition effect */
}


.collection-title {
  color: black;
  font-weight: bold;
  margin-bottom: 5px; /* Add space between title and price */
}

</style>

